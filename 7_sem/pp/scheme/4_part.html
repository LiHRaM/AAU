<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Scheme - Part 4 - Hilmar's Stay at Aalborg University</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded affix "><a href="../../../intro.html">Intro</a></li><li class="expanded affix "><a href="../../../structure.html">Structure</a></li><li class="expanded "><a href="../../../1_sem/index.html"><strong aria-hidden="true">1.</strong> Semester 1</a></li><li><ol class="section"><li class="expanded "><a href="../../../1_sem/ip/index.html"><strong aria-hidden="true">1.1.</strong> Imperative Programming</a></li><li class="expanded "><a href="../../../1_sem/la/index.html"><strong aria-hidden="true">1.2.</strong> Linear Algebra</a></li><li class="expanded "><a href="../../../1_sem/pbl/index.html"><strong aria-hidden="true">1.3.</strong> Problem Based Learning</a></li></ol></li><li class="expanded "><a href="../../../2_sem/index.html"><strong aria-hidden="true">2.</strong> Semester 2</a></li><li><ol class="section"><li class="expanded "><a href="../../../2_sem/cart/index.html"><strong aria-hidden="true">2.1.</strong> Computer Architecture</a></li><li class="expanded "><a href="../../../2_sem/dm/index.html"><strong aria-hidden="true">2.2.</strong> Discrete Mathematics</a></li><li class="expanded "><a href="../../../2_sem/oop/index.html"><strong aria-hidden="true">2.3.</strong> Object Oriented Programming</a></li></ol></li><li class="expanded "><a href="../../../3_sem/index.html"><strong aria-hidden="true">3.</strong> Semester 3</a></li><li><ol class="section"><li class="expanded "><a href="../../../3_sem/ad/index.html"><strong aria-hidden="true">3.1.</strong> Algorithms and Datastructures</a></li><li class="expanded "><a href="../../../3_sem/deb/index.html"><strong aria-hidden="true">3.2.</strong> Design and Evaluation of User Interfaces</a></li><li class="expanded "><a href="../../../3_sem/su/index.html"><strong aria-hidden="true">3.3.</strong> System's Development</a></li></ol></li><li class="expanded "><a href="../../../4_sem/index.html"><strong aria-hidden="true">4.</strong> Semester 4</a></li><li><ol class="section"><li class="expanded "><a href="../../../4_sem/loc/index.html"><strong aria-hidden="true">4.1.</strong> Languages and Compilers</a></li><li class="expanded "><a href="../../../4_sem/os/index.html"><strong aria-hidden="true">4.2.</strong> Principles of Operating Systems and Concurrency</a></li><li class="expanded "><a href="../../../4_sem/ss/index.html"><strong aria-hidden="true">4.3.</strong> Syntax and Semantics</a></li></ol></li><li class="expanded "><a href="../../../5_sem/index.html"><strong aria-hidden="true">5.</strong> Semester 5</a></li><li><ol class="section"><li class="expanded "><a href="../../../5_sem/cc/index.html"><strong aria-hidden="true">5.1.</strong> Computability and Complexity</a></li><li class="expanded "><a href="../../../5_sem/mi/index.html"><strong aria-hidden="true">5.2.</strong> Machine Intelligence</a></li><li class="expanded "><a href="../../../5_sem/se/index.html"><strong aria-hidden="true">5.3.</strong> Software Engineering</a></li></ol></li><li class="expanded "><a href="../../../6_sem/index.html"><strong aria-hidden="true">6.</strong> Semester 6</a></li><li><ol class="section"><li class="expanded "><a href="../../../6_sem/aad/index.html"><strong aria-hidden="true">6.1.</strong> Advanced Algorithms and Datastructures</a></li><li class="expanded "><a href="../../../6_sem/db/index.html"><strong aria-hidden="true">6.2.</strong> Database Systems</a></li><li class="expanded "><a href="../../../6_sem/ts/index.html"><strong aria-hidden="true">6.3.</strong> Theory of Science</a></li></ol></li><li class="expanded "><a href="../../../7_sem/index.html"><strong aria-hidden="true">7.</strong> Semester 7</a></li><li><ol class="section"><li class="expanded "><a href="../../../7_sem/dis/index.html"><strong aria-hidden="true">7.1.</strong> Distributed Systems</a></li><li><ol class="section"><li class="expanded "><a href="../../../7_sem/dis/1_vim.html"><strong aria-hidden="true">7.1.1.</strong> Virtual Infrastructure Management</a></li><li class="expanded "><a href="../../../7_sem/dis/2_gigfs.html"><strong aria-hidden="true">7.1.2.</strong> Google Infrastructure and GFS</a></li><li class="expanded "><a href="../../../7_sem/dis/3_mapreduce.html"><strong aria-hidden="true">7.1.3.</strong> MapReduce</a></li><li class="expanded "><a href="../../../7_sem/dis/4_dme.html"><strong aria-hidden="true">7.1.4.</strong> Distributed Mutual Exclusion</a></li><li class="expanded "><a href="../../../7_sem/dis/5_multicast.html"><strong aria-hidden="true">7.1.5.</strong> Multicast</a></li><li class="expanded "><a href="../../../7_sem/dis/6_replication_and_consistency.html"><strong aria-hidden="true">7.1.6.</strong> Replication and Consistency</a></li><li class="expanded "><a href="../../../7_sem/dis/7_consensus.html"><strong aria-hidden="true">7.1.7.</strong> Consensus</a></li><li class="expanded "><a href="../../../7_sem/dis/8_blockchain.html"><strong aria-hidden="true">7.1.8.</strong> Blockchain</a></li><li class="expanded "><a href="../../../7_sem/dis/9_miniproject.html"><strong aria-hidden="true">7.1.9.</strong> Miniproject</a></li></ol></li><li class="expanded "><a href="../../../7_sem/pp/index.html"><strong aria-hidden="true">7.2.</strong> Programming Paradigms</a></li><li><ol class="section"><li class="expanded "><a href="../../../7_sem/pp/scheme/1_part.html"><strong aria-hidden="true">7.2.1.</strong> Scheme - Part 1</a></li><li class="expanded "><a href="../../../7_sem/pp/scheme/2_part.html"><strong aria-hidden="true">7.2.2.</strong> Scheme - Part 2</a></li><li class="expanded "><a href="../../../7_sem/pp/scheme/3_part.html"><strong aria-hidden="true">7.2.3.</strong> Scheme - Part 3</a></li><li class="expanded "><a href="../../../7_sem/pp/scheme/4_part.html" class="active"><strong aria-hidden="true">7.2.4.</strong> Scheme - Part 4</a></li><li class="expanded "><a href="../../../7_sem/pp/scheme/miniproject.html"><strong aria-hidden="true">7.2.5.</strong> Scheme - Miniproject</a></li><li class="expanded "><a href="../../../7_sem/pp/haskell/1_part.html"><strong aria-hidden="true">7.2.6.</strong> Haskell - Part 1</a></li><li class="expanded "><a href="../../../7_sem/pp/haskell/2_part.html"><strong aria-hidden="true">7.2.7.</strong> Haskell - Part 2</a></li><li class="expanded "><a href="../../../7_sem/pp/haskell/3_part.html"><strong aria-hidden="true">7.2.8.</strong> Haskell - Part 3</a></li><li class="expanded "><a href="../../../7_sem/pp/haskell/4_part.html"><strong aria-hidden="true">7.2.9.</strong> Haskell - Part 4</a></li><li class="expanded "><a href="../../../7_sem/pp/haskell/miniproject.html"><strong aria-hidden="true">7.2.10.</strong> Haskell - Miniproject</a></li><li class="expanded "><a href="../../../7_sem/pp/prolog/1_part.html"><strong aria-hidden="true">7.2.11.</strong> Prolog - Part 1</a></li><li class="expanded "><a href="../../../7_sem/pp/prolog/2_part.html"><strong aria-hidden="true">7.2.12.</strong> Prolog - Part 2</a></li><li class="expanded "><a href="../../../7_sem/pp/prolog/3_part.html"><strong aria-hidden="true">7.2.13.</strong> Prolog - Part 3</a></li><li class="expanded "><a href="../../../7_sem/pp/prolog/4_part.html"><strong aria-hidden="true">7.2.14.</strong> Prolog - Part 4</a></li><li class="expanded "><a href="../../../7_sem/pp/prolog/miniproject.html"><strong aria-hidden="true">7.2.15.</strong> Prolog - Miniproject</a></li></ol></li><li class="expanded "><a href="../../../7_sem/tov/index.html"><strong aria-hidden="true">7.3.</strong> Tests and Verification</a></li><li><ol class="section"><li class="expanded "><a href="../../../7_sem/tov/tests.html"><strong aria-hidden="true">7.3.1.</strong> Tests</a></li><li class="expanded "><a href="../../../7_sem/tov/verification.html"><strong aria-hidden="true">7.3.2.</strong> Verification</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Hilmar's Stay at Aalborg University</h1>

                        <div class="right-buttons">
                            <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#scheme---part-4" id="scheme---part-4">Scheme - Part 4</a></h1>
<h2><a class="header" href="#evaluation-order" id="evaluation-order">Evaluation Order</a></h2>
<p>Consider the following snippet:</p>
<pre><code class="language-scheme">(define (infinite-calculation)
    (infinite-calculation))
    
((λ (x) 1) (infinite-calculation))
</code></pre>
<p>What is the result of evaluating the fourth line?
Well, due to the evaluation order of Scheme, evaluation will loop forever, as the parameter is evaluated eagerly, i.e. before it is passed to the function.</p>
<h3><a class="header" href="#rewrite-rules" id="rewrite-rules">Rewrite Rules</a></h3>
<blockquote>
<p>The rewrite rules define semantic preserving transformations of expressions</p>
</blockquote>
<h4><a class="header" href="#alpha-rule" id="alpha-rule">Alpha Rule</a></h4>
<p>Formal parameters of a lambda expression can be substituted with other names which are not used as free names in the body.</p>
<h4><a class="header" href="#beta-rule" id="beta-rule">Beta Rule</a></h4>
<p>An application of a function can be substituted by the function body, in which the formal parameters are substituted by the corresponding actual parameters.
For example, consider the following snippet:</p>
<pre><code class="language-scheme">((λ (x) (+ x 1) 1) ; &lt;=&gt; (+ 1 1)
</code></pre>
<h4><a class="header" href="#eta-rule" id="eta-rule">Eta Rule</a></h4>
<p>A function <code>f</code>, which only passes its parameters on to another function <code>e</code>, can be substituted by <code>e</code>.
For example, consider the following snippet:</p>
<pre><code class="language-scheme">(λ (x) (e x)) ; &lt;=&gt; e
              ; where e is an other function
</code></pre>
<h4><a class="header" href="#normal-form" id="normal-form">Normal Form</a></h4>
<p>An expression is in <em>normal form</em> if it cannot be reduced further by beta and eta rewrites.
A normal form represents our intuition of the value of an expression.</p>
<h3><a class="header" href="#order-of-reductions" id="order-of-reductions">Order of Reductions</a></h3>
<p>Using the rewrite rules can be done in several ways, which is why the order of reductions has been standardized.</p>
<p>In order to demonstrate the difference between the two, consider the following snippet:</p>
<pre><code class="language-scheme">((λ (x y) (+ (* x x) (* y y)))
    (fak 5)
    (fib 10))
</code></pre>
<h4><a class="header" href="#normal-order" id="normal-order">Normal Order</a></h4>
<p>The first reduction to perform is the one at the outer level of the expression, i.e. evaluation by need.</p>
<ol>
<li>Beta rewrite lambda expression</li>
</ol>
<pre><code class="language-scheme">(+ (* (fak 5) (fak 5) (* (fib 10) (fib 10))))
</code></pre>
<ol start="2">
<li>Attempt to evaluate the plus function, notice that inner values need evaluation first.</li>
<li>Attempt to evaluate <code>(* (fak 5) (fak 5))</code>, again, the two inner values need evaluation first.</li>
<li>Evaluate <code>(fak 5)</code>, then again, then evaluate the result squared.</li>
<li>Etc.</li>
</ol>
<h4><a class="header" href="#applicative-order" id="applicative-order">Applicative Order</a></h4>
<p>The first reduction to perform is the inner leftmost reduction, i.e. eager evaluation, which sometimes must be controlled explicitly.</p>
<ol>
<li>Attempt to evaluate <code>(fak 5)</code>.</li>
<li>Attempt to evaluate <code>(fib 10)</code>.</li>
<li>Evaluate the function object, i.e:</li>
</ol>
<pre><code class="language-scheme">&gt; (function-object 120 55)

;;; Resulting in
(+ (* 120 120) (* 55 55))
</code></pre>
<ol start="4">
<li>Attempt to evaluate <code>(* 120 120)</code>.</li>
<li>Etc.</li>
</ol>
<h2><a class="header" href="#delayed-evaluation-and-streams" id="delayed-evaluation-and-streams">Delayed Evaluation and Streams</a></h2>
<p>Scheme is implemented with applicative-order evaluation.</p>
<h3><a class="header" href="#delayed-evaluation" id="delayed-evaluation">Delayed Evaluation</a></h3>
<p>We introduce two new primitives:</p>
<ul>
<li>Delay, and</li>
<li>Force.</li>
</ul>
<p>The following snippet describes the semantics of these primitives:</p>
<pre><code>(delay expr) =&gt; promise
(force promise) =&gt; value
</code></pre>
<p>In fact, these are easy to implement in Scheme:</p>
<pre><code class="language-scheme">(define (delay expr)
    (λ () expr))

(define (force promise)
    (promise))
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../../7_sem/pp/scheme/3_part.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../../7_sem/pp/scheme/miniproject.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../../../7_sem/pp/scheme/3_part.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../../../7_sem/pp/scheme/miniproject.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
